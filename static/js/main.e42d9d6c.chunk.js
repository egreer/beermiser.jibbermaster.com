(this["webpackJsonpbeermiser.jibbermaster.com"]=this["webpackJsonpbeermiser.jibbermaster.com"]||[]).push([[0],{39:function(e,a,t){e.exports=t(70)},44:function(e,a,t){},47:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(14),r=t.n(c),o=(t(44),t(15)),s=t(16),m=t(18),i=t(17),u=t(19),p=t(13),d=t(36),E=t(11),h=(t(47),t(81)),v=t(72),f=t(73),b=t(74),g=t(75),C=t(76),_=t(77),y=t(78),x=t(79),N=t(82),O=t(80),j=t(9),w=t(24),k=t.n(w),B=t(35),S=t.n(B),A={name:"",alcohol:"",alcohol_unit:"APV",volume:"",volume_unit:"Oz",price:"",stored:[],calculation:null,apv_calculation:null,ppv_calculation:null},F=function(e){function a(){var e,t;Object(o.a)(this,a);for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(c)))).state=Object(j.cloneDeep)(A),t.componentDidMount=function(){var e=k.a.get("beermiser-state")||Object(j.cloneDeep)(A);t.setState(e)},t.persistState=function(e,a){t.setState(e,(function(){k.a.set("beermiser-state",t.state),Object(j.isFunction)(a)&&a()}))},t.handleChange=function(e){t.persistState(Object(j.set)({},e.target.name,e.target.value),t.updateCalculation)},t.saveCurrent=function(){console.log("Save Current",t.state);var e=t.state,a=e.alcohol,l=e.alcohol_unit,n=e.volume,c=e.volume_unit,r=e.name,o=e.price,s=e.apv_calculation,m=e.ppv_calculation,i=e.calculation,u=e.stored,p={id:S()(),name:r,alcohol:a,alcohol_unit:l,volume:n,volume_unit:c,price:o,calculation:i,apv_calculation:s,ppv_calculation:m};u.push(p),t.persistState(Object(j.assign)(Object(j.cloneDeep)(A),{stored:Object(j.orderBy)(u,["calculation","apv_calculation","ppv_calculation"],["asc","desc","asc"])}))},t.updateCalculation=function(){t.persistState(t.calculateCalculations(t.state))},t.calculateCalculations=function(e){var a=e.alcohol,t=e.alcohol_unit,l=e.volume,n=e.volume_unit,c=e.price,r=a,o=l,s=null,m=null,i=null;return"ABW"===t&&(r=1.25*a),"mL"===n?o=.03381*l:"L"===n&&(o=1e3*l*.03381),r&&r>0&&o&&o>0&&(s=r/100*o),o&&o>0&&c&&c>0&&(m=c/o),r&&r>0&&o&&o>0&&c&&c>0&&(i=c/(r/100*o)),{calculation:i,apv_calculation:s,ppv_calculation:m}},t.reCalculateAll=function(){var e=t.state.stored;e.forEach((function(e){Object(j.assign)(e,t.calculateCalculations(e))})),t.persistState({stored:Object(j.orderBy)(e,["calculation","apv_calculation","ppv_calculation"],["asc","desc","asc"])})},t.removeBrew=function(e){var a=t.state.stored;Object(j.remove)(a,(function(a){return a.id===e})),t.persistState({stored:a})},t.editBrew=function(e){t.persistState(e),t.removeBrew(e.id)},t.reset=function(){t.persistState(Object(j.cloneDeep)(A))},t.renderCalculation=function(){var e=t.state,a=e.calculation,l=e.apv_calculation,c=e.ppv_calculation;return a||l||c?n.a.createElement(h.a,{color:"success"},a&&n.a.createElement("h5",null,a.toFixed(3),n.a.createElement("small",{className:"noselect px-1 text-nowrap"},n.a.createElement("sup",null,"$"),"/",n.a.createElement("sub",null,"A"))),l&&n.a.createElement("h5",null,l.toFixed(3),n.a.createElement("small",{className:"noselect px-1"},"Alc")),c&&n.a.createElement("h5",null,c.toFixed(3),n.a.createElement("small",{className:"noselect px-1"},n.a.createElement("sup",null,"$"),"/",n.a.createElement("sub",null,"oz")))):n.a.createElement(h.a,{color:"success",style:{opacity:.3}},n.a.createElement("h5",null,"Calculating...."))},t.renderResults=function(){var e=t.state.stored.map((function(e,a){return n.a.createElement(n.a.Fragment,{key:e.id},n.a.createElement("tr",null,n.a.createElement("td",{className:"align-middle text-left"},n.a.createElement("div",{className:"mb-2"},e.name),n.a.createElement(v.a,null,n.a.createElement(f.a,{onClick:function(){return t.editBrew(e)},size:"sm"},n.a.createElement("i",{className:"fa fa-edit px-1"})),n.a.createElement(f.a,{color:"danger",onClick:function(){return t.removeBrew(e.id)},size:"sm"},n.a.createElement("i",{className:"fa fa-times px-1"})))),n.a.createElement("td",{className:"align-middle text-left"},n.a.createElement("div",null,e.price&&"$".concat(parseFloat(e.price).toFixed(2))),n.a.createElement("div",null,n.a.createElement("span",{className:"mr-1"},e.alcohol),n.a.createElement("small",null,e.alcohol_unit)),n.a.createElement("div",null,n.a.createElement("span",{className:"mr-1"},e.volume),n.a.createElement("small",null,e.volume_unit))),n.a.createElement("td",{className:"align-middle"},e.ppv_calculation&&e.ppv_calculation.toFixed(3)),n.a.createElement("td",{className:"align-middle"},e.apv_calculation&&e.apv_calculation.toFixed(3)),n.a.createElement("td",{className:"align-middle"},e.calculation&&e.calculation.toFixed(3))))}));return e.length>0&&n.a.createElement(b.a,{dark:!0,className:"my-5",size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null),n.a.createElement("th",{className:"noselect text-nowrap"},n.a.createElement("sup",null,"$"),"/",n.a.createElement("sub",null,"oz")),n.a.createElement("th",{className:"noselect text-nowrap"},"Alc"),n.a.createElement("th",{className:"noselect text-nowrap"},n.a.createElement("sup",null,"$"),"/",n.a.createElement("sub",null,"A")),n.a.createElement("th",null))),n.a.createElement("tbody",null,e))},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=e.name,t=e.alcohol,l=e.alcohol_unit,c=e.volume,r=e.volume_unit,o=e.price;return n.a.createElement("div",{className:"home"},n.a.createElement(p.a,{title:"BeerMiser"},n.a.createElement("link",{rel:"manifest",href:"/manifest.json"})),n.a.createElement("h1",{className:"text-center"},"BeerMiser"),n.a.createElement(g.a,{className:"mt-4",autoComplete:"off"},n.a.createElement(C.a,{row:!0},n.a.createElement(_.a,{sm:12},n.a.createElement(y.a,null,n.a.createElement(x.a,{type:"text",name:"name",placeholder:"Name",value:a,onChange:this.handleChange})))),n.a.createElement(C.a,{row:!0},n.a.createElement(_.a,{sm:12},n.a.createElement(y.a,null,n.a.createElement(x.a,{type:"number",name:"alcohol",placeholder:"Alcohol",value:t,onChange:this.handleChange,min:0}),n.a.createElement(N.a,{addonType:"append"},n.a.createElement(x.a,{type:"select",name:"alcohol_unit",value:l,className:"ml-2",onChange:this.handleChange},n.a.createElement("option",null,"APV"),n.a.createElement("option",null,"ABW")))))),n.a.createElement(C.a,{row:!0},n.a.createElement(_.a,{sm:12},n.a.createElement(y.a,null,n.a.createElement(x.a,{type:"number",name:"volume",placeholder:"Volume",value:c,onChange:this.handleChange,min:0}),n.a.createElement(N.a,{addonType:"append"},n.a.createElement(x.a,{type:"select",name:"volume_unit",value:r,className:"ml-2",onChange:this.handleChange},n.a.createElement("option",null,"Oz"),n.a.createElement("option",null,"mL"),n.a.createElement("option",null,"L")))))),n.a.createElement(C.a,{row:!0},n.a.createElement(_.a,{sm:12},n.a.createElement(y.a,null,n.a.createElement(x.a,{type:"number",name:"price",placeholder:"Price",value:o,onChange:this.handleChange,min:0,step:.01}),n.a.createElement(N.a,{addonType:"append"},"$")))),n.a.createElement(O.a,null,n.a.createElement(_.a,null,n.a.createElement("div",{className:"text-center my-2"},this.renderCalculation()))),n.a.createElement(O.a,null,n.a.createElement(_.a,{sm:{size:6,offset:6}},n.a.createElement(f.a,{block:!0,color:"success",onClick:this.saveCurrent},"Save")))),n.a.createElement(O.a,null,n.a.createElement(_.a,null,n.a.createElement("div",{className:"text-center my-2"},this.renderResults()))),n.a.createElement("div",{className:"pt-5"},n.a.createElement(f.a,{block:!0,color:"danger",onClick:this.reset},"Reset")))}}]),a}(l.Component),z=function(e){function a(){var e,t;Object(o.a)(this,a);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(n)))).state={isOpen:!1,disclaimerDismissed:!1,displayText:!1,displayImages:!1,devTools:!1,displayGatherer:!1},t.toggle=function(){t.setState({isOpen:!t.state.isOpen})},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(d.a,null,n.a.createElement(p.b,null,n.a.createElement(p.a,{titleTemplate:"%s - Jibbermaster"}),n.a.createElement("div",{className:"app text-light bg-dark col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-6 offset-xl-3"},n.a.createElement(E.c,null,n.a.createElement(E.a,{path:"/",exact:!0,render:function(e){return n.a.createElement(F,e)}})))))}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.e42d9d6c.chunk.js.map